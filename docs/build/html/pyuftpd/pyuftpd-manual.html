<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PyUFTPD User Manual &mdash; UNICORE UFTP</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Changelog" href="CHANGES.html" />
    <link rel="prev" title="PyUFTPD" href="pyuftpd-main.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> UNICORE UFTP
            <img src="../_static/logo-unicore.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">UFTP Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../uftpd/uftpd-main.html">UFTPD server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../uftpd/README-building.html">Building</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/README-building.html#updating-the-native-library">Updating the native library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/README-building.html#creating-distribution-packages">Creating distribution packages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/README-building.html#tgz">tgz</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/README-building.html#deb">deb</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/README-building.html#rpm">rpm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../uftpd/uftpd-manual.html">UFTPD User Manual</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/uftpd-manual.html#unicore-uftp">UNICORE UFTP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#uftp-features">UFTP features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#how-does-uftp-work">How does UFTP work</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/uftpd-manual.html#installation-and-use">Installation and use</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#c-library-for-switching-user-id">C library for switching user ID</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#starting-and-stopping-the-uftpd-server">Starting and stopping the UFTPD server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#configuration-parameters">Configuration parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#protecting-the-command-socket">Protecting the Command socket</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#firewall-configuration">Firewall configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#logging">Logging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/uftpd-manual.html#unicore-integration">UNICORE Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#configuring-the-uftp-service">Configuring the UFTP service</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#uftpd-servers-with-multiple-interfaces">UFTPD servers with multiple interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#enabling-data-encryption">Enabling data encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#limiting-bandwidth-per-transfer">Limiting bandwidth per transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#disabling-ssl-on-the-command-port">Disabling SSL on the command port</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftpd/uftpd-manual.html#enabling-local-uftp-mode-on-the-unicore-x-server">Enabling “local” UFTP mode on the UNICORE/X server</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/uftpd-manual.html#testing-the-uftpd-server">Testing the UFTPD server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/uftpd-manual.html#performance-measurement-hints">Performance measurement hints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../uftpd/CHANGES.html">Changelog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-12-0">UFTP 2.12.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-11-0">UFTP 2.11.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-9-2-released-nov-16-2020">UFTP 2.9.2 (released Nov 16 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-9-1-released-oct-16-2020">UFTP 2.9.1 (released Oct 16 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-9-0-released-sep-21-2020">UFTP 2.9.0 (released Sep 21 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-8-0-released-jul-06-2020">UFTP 2.8.0 (released Jul 06 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-7-1-released-nov-4-2019">UFTP 2.7.1 (released Nov 4 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-7-0-released-sept-25-2019">UFTP 2.7.0 (released Sept 25 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-6-2-released-aug-27-2019">UFTP 2.6.2 (released Aug 27 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-6-1-released-sep-14-2018">UFTP 2.6.1 (released Sep 14 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-6-0-released-jul-11-2018">UFTP 2.6.0 (released Jul 11 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-5-2-released-jan-8-2018">UFTP 2.5.2 (released Jan 8 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-5-1-released-nov-8-2017">UFTP 2.5.1 (released Nov 8 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-5-0-released-june-12-2017">UFTP 2.5.0 (released June 12 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-4-1-released-dec-7-2016">UFTP 2.4.1 (released Dec 7 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-4-0-released-nov-23-2016">UFTP 2.4.0 (released Nov 23 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-3-2-released-sep-15-2015">UFTP 2.3.2 (released Sep 15 2015)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-3-1-released-feb-11-2015">UFTP 2.3.1 (released Feb 11 2015)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-3-0-released-jan-26-2015">UFTP 2.3.0 (released Jan 26 2015)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-2-0-released-nov-3-2014">UFTP 2.2.0 (released Nov 3 2014)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-1-2-released-oct-2-2014">UFTP 2.1.2 (released Oct 2 2014)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-1-0-released-july-25-2014">UFTP 2.1.0 (released July 25 2014)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-2-0-0-released-10-dec-2013">UFTP 2.0.0 (released 10 Dec 2013)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-1-2-1-released-may-7-2012">UFTP 1.2.1 (released May 7 2012)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-1-2-0-released-15-dec-2011">UFTP 1.2.0 (released 15 Dec 2011)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-1-1-0-released-7-oct-2011">UFTP 1.1.0 (released 7 Oct 2011)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftpd/CHANGES.html#uftp-1-0-0-released-5-jul-2011">UFTP 1.0.0 (released 5 Jul 2011)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="pyuftpd-main.html">PyUFTPD</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">PyUFTPD User Manual</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#unicore-uftp">UNICORE UFTP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uftp-features">UFTP features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-does-uftp-work">How does UFTP work</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#installation-and-operation">Installation and operation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#starting-and-stopping-the-uftpd-server">Starting and stopping the UFTPD server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-parameters">Configuration parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#protecting-the-command-socket">Protecting the Command socket</a></li>
<li class="toctree-l4"><a class="reference internal" href="#firewall-configuration">Firewall configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logging">Logging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#unicore-integration">UNICORE integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#testing-the-uftpd-server">Testing the UFTPD server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="CHANGES.html">Changelog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="CHANGES.html#uftpd-3-1-2-released-dec-16-2021">UFTPD 3.1.2 (released Dec 16, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="CHANGES.html#uftpd-3-1-1-released-dec-8-2021">UFTPD 3.1.1 (released Dec 8, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="CHANGES.html#uftpd-3-1-0-released-oct-27-2021">UFTPD 3.1.0 (released Oct 27, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="CHANGES.html#uftpd-3-0-4-released-sept-13-2021">UFTPD 3.0.4 (released Sept 13, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="CHANGES.html#uftpd-3-0-3-released-july-2-2021">UFTPD 3.0.3 (released July 2, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="CHANGES.html#uftpd-3-0-2-released-may-27-2021">UFTPD 3.0.2 (released May 27, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="CHANGES.html#uftpd-3-0-1-released-may-10-2021">UFTPD 3.0.1 (released May 10, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="CHANGES.html#uftpd-3-0-0-released-apr-27-2021">UFTPD 3.0.0 (released Apr 27, 2021)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authserver/authserver-main.html">Auth Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../authserver/README-UPGRADE.html">Update procedure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../authserver/README-building.html">Building packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../authserver/README-building.html#creating-distribution-packages">Creating distribution packages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../authserver/README-building.html#tgz">tgz</a></li>
<li class="toctree-l4"><a class="reference internal" href="../authserver/README-building.html#deb">deb</a></li>
<li class="toctree-l4"><a class="reference internal" href="../authserver/README-building.html#rpm">rpm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../authserver/authserver-manual.html">Auth Server User Manual</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../authserver/authserver-manual.html#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../authserver/authserver-manual.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../authserver/authserver-manual.html#basic-server-configuration-memory-etc">Basic server configuration (memory etc)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../authserver/authserver-manual.html#starting-and-stopping-the-service">Starting and stopping the service</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/authserver-manual.html#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../authserver/authserver-manual.html#features">Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../authserver/authserver-manual.html#uftpd-server-s-configuration">UFTPD server(s) configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../authserver/authserver-manual.html#round-robin-use-grouping-of-uftpd-servers">Round-robin use / grouping of UFTPD servers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../authserver/authserver-manual.html#user-authentication">User authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../authserver/authserver-manual.html#attribute-sources">Attribute sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../authserver/authserver-manual.html#attribute-mapping">Attribute mapping</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/authserver-manual.html#checking-the-installation">Checking the installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/authserver-manual.html#installing-the-auth-server-in-an-existing-unicore-x-server">Installing the Auth server in an existing UNICORE/X server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/authserver-manual.html#running-the-auth-server-behind-a-unicore-gateway">Running the Auth server behind a UNICORE Gateway</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../authserver/CHANGES.html">Changelog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-2-6-0-released-dec-15-2021">Auth Server 2.6.0 (released Dec 15, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-2-5-0-p1-released-nov-3-2021">Auth Server 2.5.0-p1 (released Nov 3, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-2-5-0-released-oct-27-2021">Auth Server 2.5.0 (released Oct 27, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-2-4-0-released-mar-5-2021">Auth Server 2.4.0 (released Mar 5, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-2-3-0-released-sep-21-2020">Auth Server 2.3.0 (released Sep 21, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-2-2-1-released-jul-07-2020">Auth Server 2.2.1 (released Jul 07, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-2-2-0-released-jun-17-2020">Auth Server 2.2.0 (released Jun 17, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-2-1-0-released-feb-21-2020">Auth Server 2.1.0 (released Feb 21, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-2-0-0-released-jan-20-2020">Auth Server 2.0.0 (released Jan 20, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-1-5-0-released-aug-20-2019">Auth Server 1.5.0 (released Aug 20, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-1-4-0-released-jul-11-2018">Auth Server 1.4.0 (released Jul 11, 2018)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-1-3-0-released-nov-29-2016">Auth Server 1.3.0 (released Nov 29, 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-1-2-0-released-june-3-2016">Auth Server 1.2.0 (released June 3, 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-1-1-1-released-nov-18-2014">Auth Server 1.1.1 (released Nov 18, 2014)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-1-1-0-released-nov-3-2014">Auth Server 1.1.0 (released Nov 3, 2014)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authserver/CHANGES.html#auth-server-1-0-0-released-sept-19-2014">Auth Server 1.0.0 (released Sept 19, 2014)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../uftp-client/uftp-client-main.html">UFTP standalone client</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../uftp-client/uftp-client-manual.html">UFTP Client User Manual</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#authentication">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#listing-a-directory-the-ls-command">Listing a directory: the <cite>ls</cite> command</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#copying-data-the-cp-command">Copying data: the <cite>cp</cite> command</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#computing-checksums-for-remote-files">Computing checksums for remote files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#synchronizing-a-file-the-sync-command">Synchronizing a file: the “sync” command</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#data-sharing">Data sharing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#using-a-proxy-server-experimental">Using a proxy server (<em>EXPERIMENTAL</em>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/uftp-client-manual.html#getting-support">Getting support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../uftp-client/README-building.html">Building packages for the ‘uftp’ client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/README-building.html#creating-distribution-packages">Creating distribution packages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../uftp-client/README-building.html#tgz">tgz</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftp-client/README-building.html#deb">deb</a></li>
<li class="toctree-l4"><a class="reference internal" href="../uftp-client/README-building.html#rpm-redhat">rpm redhat</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../uftp-client/CHANGES.html">Changelog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-1-4-3-released-dec-15-2021">UFTP Client 1.4.3 (released Dec 15, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-1-4-2-released-aug-19-2021">UFTP Client 1.4.2 (released Aug 19, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-1-4-1-released-apr-8-2021">UFTP Client 1.4.1 (released Apr 8, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-1-4-0-released-mar-5-2021">UFTP Client 1.4.0 (released Mar 5, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-1-3-2-released-sep-18-2020">UFTP Client 1.3.2 (released Sep 18, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-1-3-1-released-jul-21-2020">UFTP Client 1.3.1 (released Jul 21, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-1-2-0-released-apr-16-2020">UFTP Client 1.2.0 (released Apr 16, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-1-1-0-released-feb-13-2020">UFTP Client 1.1.0 (released Feb 13, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-1-0-0-released-sep-30-2019">UFTP Client 1.0.0 (released Sep 30, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-0-9-1-released-aug-27-2019">UFTP Client 0.9.1 (released Aug 27, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-0-9-0-released-may-28-2019">UFTP Client 0.9.0 (released May 28, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-0-8-0-released-feb-4-2019">UFTP Client 0.8.0 (released Feb 4, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-0-7-0-released-jul-19-2017">UFTP Client 0.7.0 (released  Jul 19, 2017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-0-6-0-released-nov-25-2016">UFTP Client 0.6.0 (released  Nov 25, 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-0-5-0-released-june-14-2016">UFTP Client 0.5.0 (released June 14, 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-0-4-0-released-jan-26-2015">UFTP Client 0.4.0 (released Jan 26, 2015)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-0-3-0-released-nov-6-2014">UFTP Client 0.3.0 (released Nov 6, 2014)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-0-2-0-released-oct-2-2014">UFTP Client 0.2.0 (released Oct 2, 2014)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../uftp-client/CHANGES.html#uftp-client-0-1-0-released-sept-19-2014">UFTP Client 0.1.0 (released Sept 19, 2014)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../datashare/datashare-main.html">Datashare</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">UNICORE UFTP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="pyuftpd-main.html">PyUFTPD</a> &raquo;</li>
      <li>PyUFTPD User Manual</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/pyuftpd/pyuftpd-manual.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pyuftpd-user-manual">
<span id="pyuftpd-manual"></span><h1>PyUFTPD User Manual<a class="headerlink" href="#pyuftpd-user-manual" title="Permalink to this headline"></a></h1>
<p>UNICORE Team &lt;<a class="reference external" href="mailto:unicore-support&#37;&#52;&#48;lists&#46;sourceforge&#46;net">unicore-support<span>&#64;</span>lists<span>&#46;</span>sourceforge<span>&#46;</span>net</a>&gt;</p>
<dl class="field-list simple">
<dt class="field-odd">Version</dt>
<dd class="field-odd"><p>1.0.0</p>
</dd>
</dl>
<p>This is the UFTPD user manual providing information on running and
using the UNICORE UFTP server ‘uftpd’. Please note also the
following places for getting more information:</p>
<p>UNICORE Website: <a class="reference external" href="https://www.unicore.eu">https://www.unicore.eu</a></p>
<p>Support list: <a class="reference external" href="mailto:unicore-support&#37;&#52;&#48;lists&#46;sf&#46;net">unicore-support<span>&#64;</span>lists<span>&#46;</span>sf<span>&#46;</span>net</a></p>
<p>Developer’s list: <a class="reference external" href="mailto:unicore-devel&#37;&#52;&#48;lists&#46;sf&#46;net">unicore-devel<span>&#64;</span>lists<span>&#46;</span>sf<span>&#46;</span>net</a></p>
<p>UFTP issue tracker: <a class="reference external" href="https://sourceforge.net/p/unicore/uftp-issues">https://sourceforge.net/p/unicore/uftp-issues</a></p>
<p>Source code repo: <a class="reference external" href="https://github.com/UNICORE-EU/uftp">https://github.com/UNICORE-EU/uftp</a></p>
<section id="unicore-uftp">
<h2>UNICORE UFTP<a class="headerlink" href="#unicore-uftp" title="Permalink to this headline"></a></h2>
<p>UFTP is a data streaming library and file transfer tool.</p>
<p>UFTP is best used using the ‘uftp’ client-side application (available
from <a class="reference external" href="https://sourceforge.net/projects/unicore/files/Clients/UFTP-Client">https://sourceforge.net/projects/unicore/files/Clients/UFTP-Client</a>),
but is easily integrated into custom applications due to its FTP
compliance.</p>
<p>It can be also integrated into UNICORE, allowing to transfer data from
client to server (and vice versa), as well as providing data staging
and third-party transfer between UFTP-enabled UNICORE sites.</p>
<p>A full UFTP server installation consists of two parts</p>
<blockquote>
<div><ul class="simple">
<li><p>the “uftpd” file server</p></li>
<li><p>either a UNICORE/X server, or a standalone authentication
service.</p></li>
</ul>
</div></blockquote>
<p>This manual covers the UFTP file server “uftpd” version 3.0 and higher,
written in Python.</p>
<section id="uftp-features">
<h3>UFTP features<a class="headerlink" href="#uftp-features" title="Permalink to this headline"></a></h3>
<blockquote>
<div><ul class="simple">
<li><p>dynamic firewall port opening using passive FTP. UFTPD requires only
a single open port</p></li>
<li><p>standalone command line client available</p></li>
<li><p>supports third-party FTP clients such as ‘curl’ or ‘ftp’,
after getting a one-time password via the Auth server (RESTful API)
or a UNICORE/X storage endpoint</p></li>
<li><p>integrated into UNICORE clients for fast file upload and download</p></li>
<li><p>integrated with UNICORE servers for fast data staging and
server-to-server file transfers</p></li>
<li><p>optional encryption of the data streams using a  symmetric
key algorithm</p></li>
<li><p>optional compression of the data streams (using gzip)</p></li>
<li><p>optional multiple TCP streams per data connection based on code from the JPARSS library (Copyright (c) 2001 Southeastern Universities Research Association, Thomas Jefferson National Accelerator Facility)</p></li>
<li><p>partial reads/writes to a file. If supported by the filesystem,
multiple UFTP processes can thus read/write a file in parallel
(striping)</p></li>
<li><p>support for getting file checksums with the HASH command</p></li>
<li><p>command port protected by SSL</p></li>
</ul>
</div></blockquote>
</section>
<section id="how-does-uftp-work">
<h3>How does UFTP work<a class="headerlink" href="#how-does-uftp-work" title="Permalink to this headline"></a></h3>
<p>The UFTP file server, called ‘uftpd’, listens on two ports (which may be on
two different network interfaces):</p>
<blockquote>
<div><ul class="simple">
<li><p>the command port receives control commands</p></li>
<li><p>the listen port accepts data connections from clients.</p></li>
</ul>
</div></blockquote>
<p>The uftpd server is “controlled” (by an Auth server or UNICORE/X) via the
command port, and receives/sends data directly from/to a client
machine (which can be an actual user client machine or another
server). The client connnects to the “listen” port, which has to
be accessible from external machines. The client opens additional data
commection(s) via the passive FTP protocol.</p>
<p>The sequence for a UFTP file transfer is as follows:</p>
<blockquote>
<div><ul>
<li><p>the client (which can be an end-user client, or a service such as a UNICORE/X server)
sends an authentication request to the Auth server (or another UNICORE/X server)</p></li>
<li><p>the Auth server sends a request to the command port of UFTPD.
This request notifies the UFTPD server about the upcoming transfer and
contains the following information</p>
<blockquote>
<div><ul class="simple">
<li><p>a “secret”, i.e. a one-time password which the client will use to
authenticate itself</p></li>
<li><p>the user and group id which uftpd should use to access files</p></li>
<li><p>an optional key to encrypt/decrypt the data</p></li>
<li><p>the client’s IP address</p></li>
</ul>
</div></blockquote>
</li>
<li><p>the UFTPD server will now  accept an incoming client connection, provided the
supplied “secret” (one-time password) matches the expectation.</p></li>
<li><p>if everything is OK, an FTP session is created, and the client can use the FTP
protocol to open data connections, list files, transfer data etc.
Data connections are opened via “passive FTP”, which allows the firewall to dynamically
open the requested ports (which can by any port, see below if you want to a
fixed port range).</p></li>
<li><p>for each UFTP session, UFTPD will fork a process which runs as the requested user
(with the requested primary group)</p></li>
</ul>
</div></blockquote>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><strong>IMPORTANT SECURITY NOTE</strong></p>
<p>The UNICORE UFTPD server is running with <strong>elevated privileges</strong>, it can set its UID and GID to that of any user except root.
Make sure to read and understand the section below on protecting the command socket.  Otherwise, users logged on to the UFTPD machine can possibly read and write other user's files.</p>
</div>
</section>
</section>
<section id="installation-and-operation">
<h2>Installation and operation<a class="headerlink" href="#installation-and-operation" title="Permalink to this headline"></a></h2>
<section id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline"></a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Python 3.4.0 or later</p></li>
<li><p>the server’s “listen” port needs to be accessible through your firewalls,
declaring it an “FTP” port (FTP connection tracking). Alternatively a fixed
range of open ports can be configured and used</p></li>
<li><p>the server's command port needs to be accessible from the Auth server(s)</p></li>
<li><p>the UFTPD server needs access to the target file systems</p></li>
<li><p>a server certificate for the UFTPD server is a MUST for production use
in a multi-user environment (see the section on SSL below)</p></li>
</ul>
</div></blockquote>
<p>A functional UFTP installation requires either an Auth server or a full UNICORE/X server.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>NOTE ON PATHS</p>
<p>The UNICORE UFTPD server is distributed either as a platform independent and portable tar.gz or zip bundle, or as an installable, platform dependent package such as RPM.</p>
<p>Depending on the installation package, the paths to various files are different.</p>
</div>
<p>If installing using distribution-specific package
the following paths are used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONF</span><span class="o">=/</span><span class="n">etc</span><span class="o">/</span><span class="n">unicore</span><span class="o">/</span><span class="n">uftpd</span>
<span class="n">BIN</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">unicore</span><span class="o">/</span><span class="n">uftpd</span><span class="o">/</span><span class="nb">bin</span>
<span class="n">LIB</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">unicore</span><span class="o">/</span><span class="n">uftpd</span><span class="o">/</span><span class="n">lib</span>
</pre></div>
</div>
<p>If installing using the portable bundle, all UFTPD files are installed
under a single directory. Path prefixes are as follows, where <cite>INST</cite> is the directory where UFTPD was installed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONF</span><span class="o">=</span><span class="n">INST</span><span class="o">/</span><span class="n">conf</span>
<span class="n">BIN</span><span class="o">=</span><span class="n">INST</span><span class="o">/</span><span class="nb">bin</span>
<span class="n">LIB</span><span class="o">=</span><span class="n">INST</span><span class="o">/</span><span class="n">lib</span>
</pre></div>
</div>
<p>These variables (<cite>CONF</cite>, <cite>BIN</cite> and <cite>LOG</cite>) are used throughout the rest of this manual.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that after installation UFTPD is NOT automatically enabled as a systemd service, since you will need to edit the configuration and provide a server certificate.</p>
</div>
</section>
<section id="starting-and-stopping-the-uftpd-server">
<h3>Starting and stopping the UFTPD server<a class="headerlink" href="#starting-and-stopping-the-uftpd-server" title="Permalink to this headline"></a></h3>
<p>If using the Linux packages, uftpd is integrated as a service via systemd, and
you can stop/start it via <cite>systemctl</cite>. Also, logging is (by default) done via
systemd, and you can look at the logs via <cite>journalctl</cite></p>
<p>To do things manually, you can use the start/stop and status scripts that are
provided in the BIN directory.</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>unicore-uftpd-start.sh</cite> starts the server</p></li>
<li><p><cite>unicore-uftpd-stop.sh</cite> stops the server</p></li>
<li><p><cite>unicore-uftpd-status.sh</cite> checks the server status</p></li>
</ul>
</div></blockquote>
<p>The parameters such as server host/port, control host/port, and others are
configured in the <cite>CONF/uftpd.conf</cite> file</p>
<p>In a production scenario with multiple users, the uftpd server
needs to be started as root. This is necessary to be able to
access files as the correct user/group and set correct file permissions.</p>
<p>To enable UFTPD as a systemd service (after configuring and adding a server
certificate), you can use <cite>systemctl</cite> :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl add-wants multi-user.target unicore-uftpd
</pre></div>
</div>
</section>
<section id="configuration-parameters">
<h3>Configuration parameters<a class="headerlink" href="#configuration-parameters" title="Permalink to this headline"></a></h3>
<p>The following variables can be defined in the configuration file (<cite>uftpd.conf</cite>):</p>
<dl class="field-list simple">
<dt class="field-odd">CMD_HOST</dt>
<dd class="field-odd"><p>the interface where the server listens for control commands</p>
</dd>
<dt class="field-even">CMD_PORT</dt>
<dd class="field-even"><p>the port where the server listens for control commands</p>
</dd>
<dt class="field-odd">SERVER_HOST</dt>
<dd class="field-odd"><p>the interface where the server listens for client data connections</p>
</dd>
<dt class="field-even">SERVER_PORT</dt>
<dd class="field-even"><p>the port where the server listens for client data connections</p>
</dd>
</dl>
<p>:ADVERTISE_HOST:(optional) (Only used in the PASV implementation)Advertise this server as having the following IPv4 address in the control connection. This is useful if the server is behind a NAT firewall and the public address is different from the address(es) the server has bound to</p>
<dl class="field-list simple">
<dt class="field-odd">SSL_CONF</dt>
<dd class="field-odd"><p>File containing SSL settings for the command port</p>
</dd>
<dt class="field-even">ACL</dt>
<dd class="field-even"><p>File containing the list of server DNs that are allowed access to the command port</p>
</dd>
<dt class="field-odd">MAX_CONNECTIONS</dt>
<dd class="field-odd"><p>the maximum number of concurrent control connections per user (default: <cite>16</cite>)</p>
</dd>
<dt class="field-even">MAX_STREAMS</dt>
<dd class="field-even"><p>the maximum number of parallel TCP streams per FTP session (default: <cite>4</cite>)</p>
</dd>
<dt class="field-odd">PORT_RANGE</dt>
<dd class="field-odd"><p>(optional) server-side port range in the form 'lower:upper' that will be used to accept data connections. By default, any free ports will be used. <em>Example</em>: set to '50000:50050' to limit the port range</p>
</dd>
<dt class="field-even">DISABLE_IP_CHECK</dt>
<dd class="field-even"><p>(optional) in some situations, the client IP can be different from the one that was sent to the UFTPD server by the Auth server. This will lead to rejected transfers. Setting this variable to <cite>true</cite> will disable the IP check. Only the one-time password will be checked.</p>
</dd>
<dt class="field-odd">UFTP_KEYFILES</dt>
<dd class="field-odd"><p>(optional) list of files (relative to current user’s $HOME) where uftpd will read public keys for authentication. List is separated by “:”. This defaults to <cite>.ssh/authorized_keys</cite>.</p>
</dd>
<dt class="field-even">UFTP_NO_WRITE</dt>
<dd class="field-even"><p>(optional) “:”-separated list of file name patters that uftpd should not write to.</p>
</dd>
<dt class="field-odd">LOG_VERBOSE</dt>
<dd class="field-odd"><p>set to <cite>true</cite> to get (much) more detailed logging</p>
</dd>
</dl>
<p>: LOG_SYSLOG: set to <cite>false</cite> to print logging output to stdout</p>
<p>As usual if you set the SERVER_HOST to be <cite>0.0.0.0</cite>, the server will bind to all the available
network interfaces.</p>
<p>If possible, use an “internal” interface for the Command socket. If that
is not possible, make sure the Command socket is protected by a firewall!</p>
<p>We <strong>VERY STRONGLY</strong> recommend enabling SSL for the Command socket.
Please refer to the next section.</p>
</section>
<section id="protecting-the-command-socket">
<h3>Protecting the Command socket<a class="headerlink" href="#protecting-the-command-socket" title="Permalink to this headline"></a></h3>
<p>Using SSL for the Command port ensures that only trusted parties
(i.e. trusted Auth and/or UNICORE/X servers) can issue commands to the
UFTPD server. To further limit the set of trusted users, an access control
list (<cite>ACL</cite>) file is used.</p>
<p>In production settings where users can log in to the UFTPD server
machine, <strong>SSL MUST</strong> be enabled to prevent unauthorized data access!</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><strong>IMPORTANT SECURITY NOTE</strong></p>
<p>Without SSL enabled, users logged in to the UFTPD server can easily create exploits to read or write files with arbitrary user privileges (except <cite>root</cite>).</p>
</div>
<section id="ssl-setup">
<h4>SSL setup<a class="headerlink" href="#ssl-setup" title="Permalink to this headline"></a></h4>
<p>To setup SSL, you need a PEM file containing the UFTPD server’s
credential, and a PEM file containing certificate authorities that
should be trusted.</p>
<p>The following properties can be set in the <cite>CONF/uftpd-ssl.conf</cite> file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">credential</span><span class="o">.</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">keyfile</span><span class="o">.</span><span class="n">pem</span>
<span class="n">credential</span><span class="o">.</span><span class="n">password</span><span class="o">=...</span>

<span class="n">truststore</span><span class="o">=</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">ca</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">file</span><span class="o">.</span><span class="n">pem</span>
</pre></div>
</div>
<p>You can also use separate PEM files for key and certificate:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">credential</span><span class="o">.</span><span class="n">key</span><span class="o">=</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">key</span><span class="o">.</span><span class="n">pem</span>
<span class="n">credential</span><span class="o">.</span><span class="n">password</span><span class="o">=...</span>
<span class="n">credential</span><span class="o">.</span><span class="n">certificate</span><span class="o">=</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">certificate</span><span class="o">.</span><span class="n">pem</span>

<span class="n">truststore</span><span class="o">=</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">ca</span><span class="o">-</span><span class="n">cert</span><span class="o">-</span><span class="n">file</span><span class="o">.</span><span class="n">pem</span>
</pre></div>
</div>
<p>The credential.password is only needed and used if the key is encrypted.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Backwards (in)compatibility to previous versions</strong></p>
<p>UFTPD 2.x SSL config is <strong>NOT supported</strong></p>
<p>If you already have a p12 keystore for UFTPD 2.x, you can use <code class="docutils literal notranslate"><span class="pre">openssl</span></code> to convert it to <cite>PEM</cite> format</p>
</div>
</section>
<section id="acl-setup">
<h4>ACL setup<a class="headerlink" href="#acl-setup" title="Permalink to this headline"></a></h4>
<p>The access control list contains the distinguished names of those certificates that
should be allowed access.</p>
<p>The “ACL” setting in <cite>CONF/uftpd.conf</cite> is used to specify the location of the ACL file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">ACL</span><span class="o">=</span><span class="n">conf</span><span class="o">/</span><span class="n">uftpd</span><span class="o">.</span><span class="n">acl</span>
</pre></div>
</div>
<p>The default ACL contains the certificate DN of the UNICORE/X server from the UNICORE
core server bundle. In production, you need to replace this by the actual DNs of
your UNICORE/X server(s) and UFTP Authentication server(s).</p>
<p>The ACL entries are expected in <strong>RFC2253</strong> format. To get the name
from a certificate in the correct format using <cite>openssl</cite>, you can use the following OpenSSL command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>openssl x509 -in your_server.pem -noout -subject -nameopt RFC2253
</pre></div>
</div>
<p>The ACL file can be updated at runtime.</p>
</section>
</section>
<section id="firewall-configuration">
<h3>Firewall configuration<a class="headerlink" href="#firewall-configuration" title="Permalink to this headline"></a></h3>
<dl class="simple">
<dt>UFTPD requires</dt><dd><ul class="simple">
<li><p>an open TCP port for accepting FTP connections</p></li>
<li><p>additional open TCP ports for accepting data connections</p></li>
</ul>
</dd>
</dl>
<p>The data connections can either be openend dynamically using “FTP connection tracking”, or
you can use a dedicated port range and permanently open those in the firewall.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please consult the firewall documentation on how to enable an “FTP” service on your firewall (or operating system).</p>
</div>
<p>With Linux iptables, you may use rules similar to the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>iptables -A INPUT -p tcp -m tcp --dport <span class="nv">$SERVER_PORT</span> -j ACCEPT
iptables -A INPUT -p tcp -m helper --helper ftp-<span class="nv">$SERVER_PORT</span> -j ACCEPT
</pre></div>
</div>
<p>where <cite>$SERVER_PORT</cite> is the SERVER_PORT defined in <cite>uftpd.conf</cite>. The first
rule allows anyone to access port <cite>$SERVER_PORT</cite>. The second rule
activates the iptables connection tracking FTP module on port $SERVER_PORT.</p>
<p>On some operating systems it may be required to load additional kernel modules to
enable connection tracking, for example on CentOS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>modprobe nf_conntrack_ipv4
modprobe nf_conntrack_ftp <span class="nv">ports</span><span class="o">=</span><span class="nv">$SERVER_PORT</span>
</pre></div>
</div>
<p>If you cannot use connection tracking, you will need to open a port range, and configure
UFTPD accordingly.</p>
<p>For example, in <cite>uftpd.conf</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">PORT_RANGE</span><span class="o">=</span><span class="m">21000</span>:21010
</pre></div>
</div>
<p>and the iptables rule</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>iptables -A INPUT -p tcp -m tcp --dport <span class="m">21000</span>:21010 -j ACCEPT
</pre></div>
</div>
<p>would allow incoming data connections on ports 21000 to 21010.</p>
<p>A fairly small range (e.g. 10 ports) is usually enough, since these are server ports.</p>
</section>
<section id="logging">
<h3>Logging<a class="headerlink" href="#logging" title="Permalink to this headline"></a></h3>
<p>By default, UFTPD writes to syslog, and you can use <cite>journalctl</cite> to read log messages.</p>
<p>To print logging output to stdout, set <cite>export LOG_SYSLOG=false</cite> in the <cite>uftpd.conf</cite> file.</p>
</section>
</section>
<section id="unicore-integration">
<h2>UNICORE integration<a class="headerlink" href="#unicore-integration" title="Permalink to this headline"></a></h2>
<p>Please refer to the UNICORE/X manual for detailed information on how to configure
UFTP based data access and data transfer.</p>
</section>
<section id="testing-the-uftpd-server">
<h2>Testing the UFTPD server<a class="headerlink" href="#testing-the-uftpd-server" title="Permalink to this headline"></a></h2>
<p>You should use the <cite>uftp</cite> client to run tests, which contains
many options such as the number of concurrent FTP connections, and can
use <cite>/dev/null</cite> and <cite>/dev/zero</cite> as data source/sink.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pyuftpd-main.html" class="btn btn-neutral float-left" title="PyUFTPD" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="CHANGES.html" class="btn btn-neutral float-right" title="Changelog" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, UNICORE.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>